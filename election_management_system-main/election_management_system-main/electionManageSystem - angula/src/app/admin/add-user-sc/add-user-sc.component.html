<app-side-bar></app-side-bar>

<div class="content">
  <div class="py-4">
    <div class="d-flex justify-content-between w-100 flex-wrap">
      <div class="mb-3 mb-lg-0">
        <h1 class="h4">Add User</h1>
      </div>
    </div>
  </div>

  <div class="min-vh-100 p-xl-3 p-lg-3 p-md-3">
    <div [hidden]="showContent" class="col-xl-12 col-lg-12 col-md-12 card card-nav-tabs text-center welcome-sc">
      <div class="card-body">
        <div class="mt-3 h-75">
          <div class="card-body">
            <form #addUser="ngForm" (ngSubmit)="emailCheck()" novalidate>
              <div class="row mb-3">
                <div class="col-md-4 pr-1">
                  <div class="form-group">
                    <label>First Name</label>
                    <input type="text" #fname="ngModel" [class.is-invalid]="fname.invalid && fname.touched" required
                           name="fname" class="form-control input-field" placeholder="Enter your first name"
                           [(ngModel)]="userModel.first_name">
                    <small class="text-danger" [class.d-none]="fname.valid || fname.untouched">first name is
                      required</small>
                  </div>
                </div>
                <div class="col-md-4 pr-1">
                  <div class="form-group">
                    <label>Middle Name</label>
                    <input type="text" #mname="ngModel" [class.is-invalid]="mname.invalid && mname.touched" required
                           name="mname" class="form-control input-field" placeholder="Enter your middle name"
                           [(ngModel)]="userModel.middle_name">
                    <small class="text-danger" [class.d-none]="mname.valid || mname.untouched">middle name is
                      required</small>
                  </div>
                </div>
                <div class="col-md-4 pr-1">
                  <div class="form-group">
                    <label>Last Name</label>
                    <input type="text" #lname="ngModel" [class.is-invalid]="lname.invalid && lname.touched" required
                           name="lname" class="form-control input-field" placeholder="Enter your Last name"
                           [(ngModel)]="userModel.last_name">
                    <small class="text-danger" [class.d-none]="lname.valid || lname.untouched">Last name is
                      required</small>
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-6 pr-1">
                  <div class="form-group">
                    <label>Email</label>
                    <input type="text" #email="ngModel" [class.is-invalid]="email.invalid && email.touched" required
                           name="email" class="form-control input-field" placeholder="Enter your email"
                           [(ngModel)]="userModel.email">
                    <small class="text-danger" [class.d-none]="email.valid || email.untouched">email is required</small>
                  </div>
                </div>
                <div class="col-md-6 pr-1">
                  <div class="form-group">
                    <label>Gender</label>
                    <select id="gender" #gender="ngModel" [class.is-invalid]="gender.invalid && gender.touched" required
                            name="gender" class="form-control input-field" [(ngModel)]="userModel.gender">
                      <option value="">Select your gender</option>
                      <option value="M">Male</option>
                      <option value="F">Female</option>
                    </select>
                    <small class="text-danger" [class.d-none]="gender.valid || gender.untouched">gender is
                      required</small>
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-12 pr-1">
                  <div class="form-group">
                    <label>Home Address</label>
                    <input name="address" #address="ngModel" [class.is-invalid]="address.invalid && address.touched"
                           required class="form-control input-field" placeholder="Enter your address"
                           [(ngModel)]="userModel.home_address">
                    <small class="text-danger" [class.d-none]="address.valid || address.untouched">address is
                      required</small>
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-6 pr-1">
                  <div class="form-group">
                    <label>City</label>
                    <input name="city" #city="ngModel" [class.is-invalid]="city.invalid && city.touched"
                           required class="form-control input-field" placeholder="Enter your city"
                           [(ngModel)]="userModel.city">
                    <small class="text-danger" [class.d-none]="city.valid || city.untouched">city is
                      required</small>
                  </div>
                </div>
                <div class="col-md-6 pl-1">
                  <div class="form-group">
                    <label>Postal Code</label>
                    <input name="postalCode" #postalCode="ngModel"
                           [class.is-invalid]="postalCode.invalid && postalCode.touched"
                           required class="form-control input-field" placeholder="Enter your postal code"
                           [(ngModel)]="userModel.postal_code">
                    <small class="text-danger" [class.d-none]="postalCode.valid || postalCode.untouched">postal code is
                      required</small>
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-6 pr-1">
                  <div class="form-group">
                    <label>Data Of Birth</label>
                    <input type="date" #dob="ngModel" [class.is-invalid]="dob.invalid && dob.touched" required
                           name="dob"
                           class="form-control input-field"
                           placeholder="Enter your birthday" [(ngModel)]="userModel.date_of_birth">
                    <small class="text-danger" [class.d-none]="dob.valid || dob.untouched">birthday is required</small>
                  </div>
                </div>
                <div class="col-md-6 mb-2 pl-1">
                  <div class="form-group">
                    <label>Phone Number</label>
                    <input type="text" #phone="ngModel" [class.is-invalid]="phone.invalid && phone.touched"
                           pattern="^\d{10}$" required name="phone" class="form-control input-field"
                           placeholder="enter your phone number" [(ngModel)]="userModel.phone_number">
                    <div *ngIf="phone.errors && (phone.invalid && phone.touched)">
                      <small class="text-danger" *ngIf="phone.errors['required']">phone number is
                        required</small>
                      <small class="text-danger" *ngIf="phone.errors['pattern']">phone number must be 10 digits
                        required</small>
                    </div>
                  </div>
                </div>
              </div>
              <hr>
              <div class="row mb-4">
                <div class="col-md-6 pr-1">
                  <div class="form-group">
                    <label>Password</label>
                    <input type="text" #password="ngModel" [class.is-invalid]="password.invalid && password.touched"
                           required name="password" class="form-control input-field"
                           placeholder="Enter your password" [(ngModel)]="userModel.password">
                    <small class="text-danger" [class.d-none]="password.valid || password.untouched">password is
                      required</small>
                  </div>
                </div>
                <div class="col-md-6 pl-1">
                  <div class="form-group">
                    <label>Comfirm Password</label>
                    <input type="text" #repassword="ngModel"
                           [class.is-invalid]="repassword.invalid && repassword.touched"
                           required name="repassword" class="form-control input-field"
                           placeholder="Enter re-type password" ngModel>
                    <small class="text-danger" *ngIf="password.value !== repassword.value">Passwords do not
                      match.</small>
                  </div>
                </div>
              </div>
              <hr>
              <div class="d-flex justify-content-start">
                <small class="text-danger mx-2 fs-5">{{errorMsg}}</small>
              </div>
              <div class="row gap-2">
                <div class="col-xl-3 col-lg-3 col-md-3 mt-3">
                  <button [disabled]="addUser.form.invalid" type="submit"
                          class="fs-5 add-btn col-md-12 btn  btn-round">Add
                  </button>
                </div>
                <div class="col-xl-3 col-lg-3 col-md-3 mt-3">
                  <div class="fs-5 cancel-btn col-md-12 btn btn-round">Cancel
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- scan -->

    <div class="d-flex justify-content-center">
      <div [hidden]="!showContent" class="col-xl-10 col-lg-10 col-md-10 card card-nav-tabs text-center welcome-sc-box">
        <div class="card-body">
          <div class="card-header">
            <h1 class="card-title mt-3">SCAN</h1>
            <h4 class="text-black-50 card-text mb-3">Please scan your Fingerprint</h4>
          </div>
          <div class="row col-xl-12 mt-3 d-flex align-items-center justify-content-center">
            <div class="col-xl-3 col-lg-4 col-md-7 finger-box rounded-4">
              <div [hidden]="!showMsg">
                <div class="modal-body success-msg">
                  <ng-lottie
                    [options]="options"
                    (animationCreated)="onAnimate($event)">
                  </ng-lottie>
                </div>
              </div>
            </div>
            <div class="col-6 mt-3">
              <p class="time-re">Time remaining: {{ seconds }} seconds</p>
            </div>
            <div class="row mt-4 mb-2 col-md-12 d-flex align-items-center justify-content-center">
              <button [disabled]="doneBtnDisabled" type="submit" data-bs-toggle="modal" data-bs-target="#scan"
                      (click)="userRedirect()" class="col-xl-3 col-md-5 fs-4 next-btn btn rounded">Done
              </button>
            </div>
            <div>
              <h5 class="text-success">{{errorMsg2}}</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Modal -->
  <!--  <div class="modal fade" id="scan" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"-->
  <!--       aria-labelledby="staticBackdropLabel" aria-hidden="true">-->
  <!--    <div class="modal-dialog modal-dialog-centered ">-->
  <!--      <div class="modal-content">-->
  <!--        <div class="row d-flex align-items-center">-->
  <!--          <h2 class="text-center text-success mt-3">SUCCESS</h2>-->
  <!--        </div>-->
  <!--        <div class="modal-body success-msg">-->
  <!--          <ng-lottie-->
  <!--            [options]="options"-->
  <!--            (animationCreated)="onAnimate($event)">-->
  <!--          </ng-lottie>-->
  <!--        </div>-->
  <!--        <div class="modal-footer">-->
  <!--          <div class="row col-xl-12 col-lg-12 col-md-12 d-flex align-items-center justify-content-center">-->
  <!--            <button type="submit" data-bs-dismiss="modal"-->
  <!--                    (click)="userRedirect()" class="text-white col-md-4 col-xl-4 btn btn-success btn-round">DONE-->
  <!--            </button>-->
  <!--          </div>-->
  <!--        </div>-->
  <!--      </div>-->
  <!--    </div>-->
  <!--  </div>-->
</div>




